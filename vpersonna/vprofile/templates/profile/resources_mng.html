{% extends 'profile/base.html' %}
{% block header %}
{% endblock %}
{% block nav-res-mng %}
class="active"
{% endblock %}
{% block content %}
    <div class="alert alert-warning">
        <strong> Warning! </strong> Your rules won't be saved if you pass the limit of 100%.  
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th> # </th>
                <th> Type of service </th>
                <th> Bandwidth percent </th>
                <th> Destination address (opt) </th>
                <th> Actions </th>
            </tr>
        </thead>
        <tbody>
        {% for rule in rules_list %}
            <tr>
                <td> {{ forloop.counter }} </td> 
                <td> {{ rule.type_of_service }} </td> 
                <td> {{ rule.bandwidth_percent }} </td> 
                <td> {{ rule.destination_address }} </td>
                <td>  
                    <a class="btn btn-default" href="{% url 'rule_update' pk=rule.pk %}">
                        <span class="glyphicon glyphicon-pencil">
                        </span>
                    </a>
                    <a class="btn btn-default" href="{% url 'rule_delete' pk=rule.pk %}">
                        <span class="glyphicon glyphicon-remove-sign">
                        </span>
                    </a>
                </td>
            </tr>
        {% endfor %} 
        </tbody>
        <tfoot>
            <tr>
                <td></td>
                <td><b> Total bandwidth left</b></td>
                <td><b>  {{ total_bw_used }} / 100</b></td>
                <td></td> 
                <td>
                    <a href="{% url 'vprofile.views.rule_edit' %}" >Add new rule  
                            <span class="glyphicon glyphicon-plus">
                            </span>
                    </a>
                </td>
            </tr>
        </tfoot>
    </table>
{% endblock %}
